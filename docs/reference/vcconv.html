<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Convert between representations of (co-)variance structures
  (EXPERIMENTAL).  See source code for details."><title>Convert between representations of (co-)variance structures — vcconv • lme4</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.5/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.5/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert between representations of (co-)variance structures — vcconv"><meta property="og:description" content="Convert between representations of (co-)variance structures
  (EXPERIMENTAL).  See source code for details."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">lme4</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1-35.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/exampleanalysis.html">Example Analysis</a>
    <a class="dropdown-item" href="../articles/lmerperf.html">lme4 performance tips</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lme4/lme4/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Convert between representations of (co-)variance structures</h1>
      
      <div class="d-none name"><code>vcconv.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert between representations of (co-)variance structures
  (EXPERIMENTAL).  See source code for details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mlist2vec</span><span class="op">(</span><span class="va">L</span><span class="op">)</span></span>
<span>  <span class="fu">vec2mlist</span><span class="op">(</span><span class="va">v</span>, n <span class="op">=</span> <span class="cn">NULL</span>, symm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="fu">vec2STlist</span><span class="op">(</span><span class="va">v</span>, n <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span>  <span class="fu">sdcor2cov</span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span>  <span class="fu">cov2sdcor</span><span class="op">(</span><span class="va">V</span><span class="op">)</span></span>
<span>  <span class="fu">Vv_to_Cv</span><span class="op">(</span><span class="va">v</span>, n <span class="op">=</span> <span class="cn">NULL</span>, s <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="fu">Sv_to_Cv</span><span class="op">(</span><span class="va">v</span>, n <span class="op">=</span> <span class="cn">NULL</span>, s <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="fu">Cv_to_Vv</span><span class="op">(</span><span class="va">v</span>, n <span class="op">=</span> <span class="cn">NULL</span>, s <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="fu">Cv_to_Sv</span><span class="op">(</span><span class="va">v</span>, n <span class="op">=</span> <span class="cn">NULL</span>, s <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>L</dt>
<dd><p>List of symmetric, upper-triangular, or lower-triangular
    square matrices.</p></dd>

  <dt>v</dt>
<dd><p>Concatenated vector containing the elements of the
    lower-triangle (including the diagonal) of a symmetric or triangular
    matrix.</p></dd>

  <dt>n</dt>
<dd><p>Number of rows (and columns) of the resulting matrix.</p></dd>

  <dt>symm</dt>
<dd><p>Return symmetric matrix if <code>TRUE</code> or lower-triangular
    if <code>FALSE</code>.</p></dd>

  <dt>m</dt>
<dd><p>Standard deviation-correlation matrix.</p></dd>

  <dt>V</dt>
<dd><p>Covariance matrix.</p></dd>

  <dt>s</dt>
<dd><p>Scale parameter.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>(Co-)variance structure</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p></p><dl><dt><code>mlist2vec</code></dt>
<dd><p>Convert list of matrices to concatenated
      vector of lower triangles with an attribute that gives the
      dimension of each matrix in the original list. This attribute may
      be used to reconstruct the matrices.  Returns a concatenation of
      the elements in one triangle of each matrix. An attribute
      <code>"clen"</code> gives the dimension of each matrix.</p></dd>

    <dt><code>vec2mlist</code></dt>
<dd><p>Convert concatenated vector to list of matrices (lower
      triangle or symmetric). These matrices could represent Cholesky
      factors, covariance matrices, or correlation matrices (with
      standard deviations on the diagonal).</p></dd>

    <dt><code>vec2STlist</code></dt>
<dd><p>Convert concatenated vector to list of ST
      matrices.</p></dd>

    <dt><code>sdcor2cov</code></dt>
<dd><p>Standard deviation-correlation matrix to
      covariance matrix convert 'sdcor' format (std dev on diagonal,
      cor on off-diag) to and from variance-covariance matrix.</p></dd>

    <dt><code>cov2sdcor</code></dt>
<dd><p>Covariance matrix to standard
      deviation-correlation matrix (i.e. standard deviations on the
      diagonal and correlations off the diagonal).</p></dd>

    <dt><code>Vv_to_Cv</code></dt>
<dd><p>Variance-covariance to relative covariance
      factor. Returns a vector of elements from the lower triangle of a
      relative covariance factor.</p></dd>

    <dt><code>Sv_to_Cv</code></dt>
<dd><p>Standard-deviation-correlation to relative covariance
      factor. Returns a vector of elements from the lower triangle of a
      relative covariance factor.</p></dd>

    <dt><code>Cv_to_Vv</code></dt>
<dd><p>Relative covariance factor to
      variance-covariance. From unscaled Cholesky vector to (possibly
      scaled) variance-covariance vector. Returns a vector of elements
      from the lower triangle of a variance-covariance matrix.</p></dd>

    <dt><code>Cv_to_Sv</code></dt>
<dd><p>Relative covariance factor to
      standard-deviation-correlation.  From unscaled Chol to sd-cor
      vector. Returns a vector of elements from the lower triangle of a
      standard-deviation-correlation matrix.</p></dd>

  
</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">vec2mlist</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`1`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    1    2    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">mlist2vec</span><span class="op">(</span><span class="fu">vec2mlist</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="co"># approximate inverse</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 12 13 14 15 16 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1  2  3  4  5  6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"clen")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Douglas Bates, Martin Maechler, Ben Bolker, Steven Walker.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

